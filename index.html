<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EduNation Hub-Home page</title>
<link rel="stylesheet" href="web.css">
</head>
<body>

<!-- Loader -->
<div id="loader">
  <div class="spinner"></div>
</div>

<!-- Slider -->
<div class="slider" id="slider">
  <div class="slides" id="slides">
    <div class="slide">
      <img src="image1.webp" alt="Slide 1">
      <!-- <div class="caption">You are here 👈</div> -->
    </div>
    <div class="slide">
      <img src="second.webp" alt="Slide 2">
    </div>
    <div class="slide">
      <img src="pexels-panditwiguna-3401402.webp" alt="Slide 3">
    </div>
  </div>

  <div class="navigation">
    <button class="nav-btn" onclick="moveSlide(-1)">❮</button>
    <button class="nav-btn" onclick="moveSlide(1)">❯</button>
  </div>

  <div class="indicators" id="indicators"></div>
  <button class="next-button" onclick="window.location.href='home.html'">Next</button>
</div>

<script>
  const slides = document.getElementById("slides");
  const indicators = document.getElementById("indicators");
  const totalSlides = slides.children.length;
  let currentIndex = 0;

  // Create dots
  for (let i = 0; i < totalSlides; i++) {
    const dot = document.createElement("span");
    dot.classList.add("dot");
    if (i === 0) dot.classList.add("active");
    dot.onclick = () => moveToSlide(i);
    indicators.appendChild(dot);
  }

  function moveSlide(direction) {
    currentIndex = (currentIndex + direction + totalSlides) % totalSlides;
    updateSlider();
  }

  function moveToSlide(index) {
    currentIndex = index;
    updateSlider();
  }

  function updateSlider() {
    slides.style.transform = `translateX(-${currentIndex * 100}vw)`;

    // Show/hide caption
    document.querySelectorAll('.caption').forEach((caption, idx) => {
      caption.style.display = idx === currentIndex ? 'block' : 'none';
    });

    // Update indicators
    document.querySelectorAll('.dot').forEach((dot, idx) => {
      dot.classList.toggle("active", idx === currentIndex);
    });
  }

  // Auto-play
  setInterval(() => {
    moveSlide(1);
  }, 6000);

  // Touch Swipe
  let touchStartX = 0;
  let touchEndX = 0;
  const slider = document.getElementById('slider');

  slider.addEventListener('touchstart', e => {
    touchStartX = e.changedTouches[0].screenX;
  });

  slider.addEventListener('touchend', e => {
    touchEndX = e.changedTouches[0].screenX;
    handleSwipe();
  });

  function handleSwipe() {
    if (touchEndX < touchStartX - 50) {
      moveSlide(1);
    } else if (touchEndX > touchStartX + 50) {
      moveSlide(-1);
    }
  }

  // Loader hide on full load
  window.addEventListener('load', () => {
    const loader = document.getElementById('loader');
    loader.style.opacity = 0;
    setTimeout(() => loader.style.display = 'none', 500);
  });
</script>

</body>
</html>
